(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5155),l=n(2115),s=n(2619),r=n.n(s);function i(e){let{label:t,children:n}=e,[s,r]=l.useState(!0);return(0,a.jsxs)("div",{style:{marginLeft:12},children:[(0,a.jsxs)("button",{onClick:()=>r(!s),"aria-expanded":s,children:[s?"▾":"▸"," ",t]}),s&&(0,a.jsx)("div",{style:{paddingLeft:16},children:n})]})}function o(e){let{data:t,label:n}=e;return null===t||"object"!=typeof t?(0,a.jsxs)("div",{children:[(0,a.jsxs)("strong",{children:[n,":"]})," ",String(t)]}):Array.isArray(t)?(0,a.jsx)(i,{label:"".concat(n," [").concat(t.length,"]"),children:t.map((e,t)=>(0,a.jsx)(o,{data:e,label:String(t)},t))}):(0,a.jsx)(i,{label:"".concat(n," {}"),children:Object.entries(t).map(e=>{let[t,n]=e;return(0,a.jsx)(o,{data:n,label:t},t)})})}function c(){let[e,t]=l.useState(!1),[n,s]=l.useState(null),[i,c]=l.useState(null);async function d(){t(!0),s(null);try{let e=await fetch("/api/student-data",{cache:"no-store"});if(!e.ok)throw Error("HTTP ".concat(e.status));let t=await e.json();c(t)}catch(e){s(e.message||"Request failed")}finally{t(!1)}}return(0,a.jsxs)("main",{style:{padding:24},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,a.jsx)("h1",{style:{margin:0},children:"Dashboard"}),(0,a.jsx)(r(),{href:"/api/auth/logout",style:{color:"#666",textDecoration:"underline"},children:"Log out"})]}),(0,a.jsxs)("p",{children:["Retrieve the latest ",(0,a.jsx)("code",{children:"studentData"})," JSON."]}),(0,a.jsx)("button",{onClick:d,disabled:e,children:e?"Loading…":"Get Student Data"}),n&&(0,a.jsxs)("p",{style:{color:"crimson"},children:["Error: ",n]}),i&&(0,a.jsx)("div",{style:{marginTop:16,fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace"},children:(0,a.jsx)(o,{data:i,label:"root"})})]})}},8036:(e,t,n)=>{Promise.resolve().then(n.bind(n,116))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8036)),_N_E=e.O()}]);